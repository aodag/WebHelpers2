TODO
%%%%

:Updated: 2013-01-21 by Mike Orr

WebHelpers2 migration
=====================

:New repository:  https://github.com/mikeorr/WebHelpers2
:Old repository: https://bitbucket.org/bbangert/webhelpers

DONE:

* Import WebHelpers 1.3 files.
* Verify unit tests and doc generation, with existing bugs.
* Delete subpackages and helpers designated "don't port", along with their tests and docs.
* Delete obsolete tests.  Fix remaining tests that fail.  
* Rename distro and package to WebHelpers2/webhelpers2. Adjust setup.py,
  imports, tests, and setup.cfg.

GOALS FOR 2.0:

* Finish deleting and renaming helpers.
* Port code to Python 3. Drop Python 2.4 and 2.5 compatibility, and maybe 2.6.
* Update docs. New WebHelpers2 name. Add a page explaining the differences in
  WebHelpers2. Publish on ReadTheDocs.
* Review the pending issues and pull requests in the old repository.

CONSIDERING:

* Move tests to webhelpers/tests, converting them all to a modern Unittest 
  interface, standardizing their syntax, and dropping silly/archaic tests.
* Convert Nose tests to Unittest (with Python 2.7 enhancements). May need a
  mixin class for Python 2.6 as in 
  https://code.launchpad.net/~cbehrens/nova/assert-in-fixes/+merge/73208 .
* Convert doctests to unit tests. Use unicode_literals where possible to avoid
  u"".

ABANDONED:

* Object backend for tag builder, which would return tag objects instead of
  strings and defer stringification until .\_\_str\_\_ is called.  I don't
  remember what the use case was for this, and it would violate the expectation
  that the return value have string methods. I'd thought there was an existing
  implementation of this but neither Tavis Rudd's nontemplate nor Breve/Stan do
  what I was looking for.

HELPERS DISPOSITION
===================

Delete submodules
-----------------

  * feedgenerator
  * html.grid
  * html.grid_demo
  * markdown
  * mimehelper
  * pylonslib (flash, grid, minify, secure_form)
  * textile
  * util

DONE.

webhelpers.constants
--------------------

Enhancements: unicode_literals. Move ISO countries to separate text file.

webhelpers.containers
---------------------

Keep: Counter, DumbObject.

Delete: Accumulator, UniqueAccumulator, Python 2.4 fallback for defaultdict.

Probably keep: correlate_dicts, correlate_objects, del_quiet, distribute, only_some_keys,
except_keys, extract_keys, ordered_items, get_many, transpose, unique.

Enhancements: change del_quiet's arg to \*keys. coalesce(), needs some thought.
get_key_attr(), get_key_keys.


webhelpers.date
---------------

Probably keep.

webhelpers.html.builder
-----------------------

Convert to MarkupSafe. Alias ``literal`` to ``markupsafe.Markup`` for backward
compatibility in templates, and ``escape`` to ``escape_silent``.

C speedup for ``make_tag()``.

webhelpers.html.tags
--------------------

Delete Doctype class. DONE.

webhelpers.html.converters, render, and tools
---------------------------------------------

Consolidate overlapping helpers in converters and tools. 

Rename format_paragraphs to text_to_html.  Rename render to html_to_text.

sanitize is same as tools-strip_links but implementation is much more complex.
Worth keeping complex implementation? Note that escape
(markupsafe.escape_silent) makes HTML strings safe by escaping markup, but
that's different than stripping tags.

Delete markdown and textilize wrappers.

Delete deprecated 'highlighter' arg in tools.highlight.


webhelpers.media
----------------

Maybe keep. Rename to images?

webhelpers.misc
---------------

Delete all, any, no, DeclarativeException, OverwriteError.

Keep count_true, NotGiven, subclasses_of (renamed from subclasses_only), deprecate.

Maybe keep convert_or_none, flatten, format_exception, .

webhelpers.number
-----------------

Keep.

webhelpers.text
---------------

Keep port chop_at, convert_accented_entities, excerpt, lchop,
  rchop, series, truncate, urlify

Maybe keep plural and rename?

Maybe keep collapse, convert_accented_entities, remove_formatting,
  replace_whitespace, strip_leading_whitespace, wrap_paragraphs.

Delete convert_misc_entities?


Miscellaneous
=============

The "unfinished" directory in the WebHelpers source distribution contains
potential future helpers which are not finished enough for release. These are
not installed by the installer; they are available only in the source tarball.

Replacement for 'util.update_params' in *unfinished/update_params.py*.

Replacement for 'misc.DeclarativeException'. Can we make a better API with
metaclasses or something?
