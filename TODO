TODO
%%%%

:Updated: 2013-01-01 by Mike Orr

WebHelpers2 migration
=====================

:New repository:  https://github.com/mikeorr/WebHelpers2
:Old repository: https://bitbucket.org/bbangert/webhelpers

DONE:

* Import WebHelpers 1.3 files.
* Verify unit tests and doc generation, with existing bugs.
* Delete subpackages and helpers designated "don't port", along with their tests and docs.
* Delete obsolete tests.  Fix remaining tests that fail.  
* Rename distro and package to WebHelpers2/webhelpers2. Adjust setup.py,
  imports, tests, and setup.cfg.

TODO:

* Finish deleting and renaming helpers.
* Move tests to webhelpers/tests, converting them all to a modern Unittest 
  interface, standardizing their syntax, and dropping silly/archaic tests.
* Convert doctests to unit tests. Use unicode_literals where possible to avoid
  u"".
* Switch to Unittest (Python 2.7). Figure out a compatibility plan for Python
  2.6 testing, possibly with a mixin class as in
  https://code.launchpad.net/~cbehrens/nova/assert-in-fixes/+merge/73208 .
  (Or stick to Nose or don't support Python 2.6.)
* Port code to Python 3. Drop Python 2.4 and 2.5 compatibility, and maybe 2.6.
* Small enhancements.
* Update docs. New WebHelpers2 name. Add a page explaining the differences in
  WebHelpers2. Publish on ReadTheDocs.
* Review the pending issues and pull requests in the old repository.
* Alpha release.
* Pie-in-the-sky ideas.

The 2.x series **MUST** have a distinct PyPI distribution and top-level package
name to avoid breaking existing Pylons applications that depend on the latest
WebHelpers and expect it to be compatible with 1.0. The new name is
WebHelpers2/webhelpers2, and its first version will be 2.0a1.


HELPERS DISPOSITION
===================

Delete submodules
-----------------

  * feedgenerator
  * html.grid
  * html.grid_demo
  * markdown
  * mimehelper
  * pylonslib (flash, grid, minify, secure_form)
  * textile
  * util

DONE.

webhelpers.constants
--------------------

Enhancements: unicode_literals. Move ISO countries to separate text file.

webhelpers.containers
---------------------

Keep: Counter, DumbObject.

Delete: Accumulator, UniqueAccumulator, Python 2.4 fallback for defaultdict.

Probably keep: correlate_dicts, correlate_objects, del_quiet, distribute, only_some_keys,
except_keys, extract_keys, ordered_items, get_many, transpose, unique.

Enhancements: change del_quiet's arg to \*keys. coalesce(), needs some thought.
get_key_attr(), get_key_keys.


webhelpers.date
---------------

Probably keep.

webhelpers.html.builder
-----------------------

Convert to MarkupSafe. Alias ``literal`` to ``markupsafe.Markup`` for backward
compatibility in templates, and ``escape`` to ``escape_silent``.

C speedup for ``make_tag()``.

webhelpers.html.tags
--------------------

Delete Doctype class. DONE.

webhelpers.html.converters, render, and tools
---------------------------------------------

Consolidate overlapping helpers in converters and tools. 

Rename format_paragraphs to text_to_html.  Rename render to html_to_text.

sanitize is same as tools-strip_links but implementation is much more complex.
Worth keeping complex implementation? Note that escape
(markupsafe.escape_silent) makes HTML strings safe by escaping markup, but
that's different than stripping tags.

Delete markdown and textilize wrappers.

Delete deprecated 'highlighter' arg in tools.highlight.


webhelpers.media
----------------

Maybe keep. Rename to images?

webhelpers.misc
---------------

Delete all, any, no, DeclarativeException, OverwriteError.

Keep count_true, NotGiven, subclasses_of (renamed from subclasses_only), deprecate.

Maybe keep convert_or_none, flatten, format_exception, .

webhelpers.number
-----------------

Keep.

webhelpers.text
---------------

Keep port chop_at, convert_accented_entities, excerpt, lchop,
  rchop, series, truncate, urlify

Maybe keep plural and rename?

Maybe keep collapse, convert_accented_entities, remove_formatting,
  replace_whitespace, strip_leading_whitespace, wrap_paragraphs.

Delete convert_misc_entities?


Miscellaneous
=============

The "unfinished" directory in the WebHelpers source distribution contains
potential future helpers which are not finished enough for release. These are
not installed by the installer; they are available only in the source tarball.

Replacement for 'util.update_params' in *unfinished/update_params.py*.

Replacement for 'misc.DeclarativeException'. Can we make a better API with
metaclasses or something?


Abandoned
=========

Gave up on object backend for tag builder. I can't remember what the use case
was for it. Could not find existing implementation: neither Tavis Rudd's
nontemplate nor Breve/Stan do what I want. The clincher is that users expect
the result to have string methods and otherwise behave like a string.
